# üöÄ Kwork Parser - –ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

## üéØ –ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï

**Kwork Parser** - Backend API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π Kwork.ru. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–ø—Ä–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ Kwork —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** Kwork –Ω–µ –∏–º–µ–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTML –ø–∞—Ä—Å–∏–Ω–≥ —Å –ø–æ–º–æ—â—å—é BeautifulSoup4.

## üèÉ‚Äç‚ôÇÔ∏è –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –ó–∞–ø—É—Å–∫:
```bash
cd kwork-parser
docker-compose up -d
```

### 2. –î–æ—Å—Ç—É–ø:
- **Swagger UI:** http://localhost/docs
- **API:** http://localhost:8000/api/v1/
- **Health:** http://localhost:8000/health

### 3. –¢–µ—Å—Ç:
```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST "http://localhost:8000/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","username":"testuser","password":"TestPassword123"}'

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è  
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"TestPassword123"}'
```

## üìä –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê

```
‚úÖ –ì–û–¢–û–í–û (~75%):
   ‚úì Backend API –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞
   ‚úì –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (JWT, bcrypt, —Å–µ—Å—Å–∏–∏)
   ‚úì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite, async, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
   ‚úì –ê–Ω—Ç–∏–±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ (rate limiting, –∑–∞–¥–µ—Ä–∂–∫–∏)
   ‚úì Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å Nginx
   ‚úì HTML –ø–∞—Ä—Å–∏–Ω–≥ (BeautifulSoup4)
   ‚úì –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Kwork (—Å CSRF)
   
‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò (80% –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Ä–∞–±–æ—Ç—ã):
   ‚ö†Ô∏è Kwork –º–µ—Ç–æ–¥—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ (–∑–∞–≥–ª—É—à–∫–∏ ‚Üí —Ä–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
   
üîÑ –°–õ–ï–î–£–Æ–©–ò–ô –≠–¢–ê–ü:
   üîÑ –î–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–µ—Ç–æ–¥–æ–≤
```

## üîë –ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´

### üéØ –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
- **`app/services/kwork_client.py`** - 80% –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Ä–∞–±–æ—Ç—ã –∑–¥–µ—Å—å
  - ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å HTML –ø–∞—Ä—Å–∏–Ω–≥–æ–º (–±–∞–∑–æ–≤–∞—è)
  - ‚ö†Ô∏è get_orders() - –Ω—É–∂–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
  - ‚ö†Ô∏è respond_to_order() - –Ω—É–∂–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–æ—Ä–º—ã –æ—Ç–∫–ª–∏–∫–∞
  - ‚ö†Ô∏è get_chat_messages() - –Ω—É–∂–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ —á–∞—Ç–æ–≤
  - ‚ö†Ô∏è send_message() - –Ω—É–∂–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
  - ‚ö†Ô∏è create_quark() - –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  - ‚ö†Ô∏è get_my_gigs() - –Ω—É–∂–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –∫–≤–æ—Ä–∫–æ–≤

### üìÅ –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `app/api/v1/` - –≤—Å–µ API endpoints –≥–æ—Ç–æ–≤—ã
- `app/core/security.py` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- `app/core/database.py` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `app/core/rate_limiter.py` - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- `docker-compose.yml` - –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´

### 1. üî• –ö–†–ò–¢–ò–ß–ù–û - Kwork –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (3-4 –Ω–µ–¥–µ–ª–∏)

**–ü–æ–¥—Ö–æ–¥:** –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Üí –ü–∞—Ä—Å–∏–Ω–≥ ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### –ù–µ–¥–µ–ª—è 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- –ò–∑—É—á–∏—Ç—å HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü Kwork.ru:
  - `/login` - —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - `/projects` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
  - `/messages` - —á–∞—Ç—ã
  - `/profile` - –ø—Ä–æ—Ñ–∏–ª—å
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ—á–Ω—ã–µ –ø–æ–ª—è —Ñ–æ—Ä–º –∏ CSRF —Ç–æ–∫–µ–Ω—ã

#### –ù–µ–¥–µ–ª—è 2-3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- **get_orders()**: –ø–∞—Ä—Å–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ HTML
- **respond_to_order()**: –Ω–∞–π—Ç–∏ —Ñ–æ—Ä–º—É –æ—Ç–∫–ª–∏–∫–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
- **get_chat_messages()**: –∏–∑–≤–ª–µ—á—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ HTML
- **send_message()**: –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
- **create_quark()**: —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

#### –ù–µ–¥–µ–ª—è 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases

### 2. üìã –í–ê–ñ–ù–û - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3. üêõ –ü–û–¢–û–ú - –ú–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## üõ† –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–°—Ç–µ–∫:** Python 3.11 + FastAPI + SQLite + Redis + Docker + BeautifulSoup4
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** 
- Async/await –≤–µ–∑–¥–µ
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- Fernet —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- Rate limiting (60 req/min)
- HTML –ø–∞—Ä—Å–∏–Ω–≥ –≤–º–µ—Å—Ç–æ API

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** 
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (1-3 —Å–µ–∫)
- –û–¥–∏–Ω –∞–∫–∫–∞—É–Ω—Ç = –æ–¥–∏–Ω –ø–æ—Ç–æ–∫

## üìû –î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

**–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å API:**
- username: `testuser`
- password: `TestPassword123`
- email: `test@example.com`

**–¢–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç Kwork:**
- email: `azhebegenov290406@gmail.com`
- password: `66jYhek57`
- login: `azhebegenov290406`

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- **`PROJECT_STATUS.md`** - –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç
- **`README.md`** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **`/docs`** - Swagger UI —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- **`test_api.py`** - —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö endpoints

## üîß –ö–ê–ö –†–ê–ë–û–¢–ê–¢–¨ –° KWORK –ü–ê–†–°–ò–ù–ì–û–ú

### –ü—Ä–∏–º–µ—Ä –∏–∑—É—á–µ–Ω–∏—è HTML:
```python
# –í authenticate() —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥
soup = BeautifulSoup(response.text, 'html.parser')

# –ü–æ–∏—Å–∫ CSRF —Ç–æ–∫–µ–Ω–∞
csrf_meta = soup.find('meta', {'name': 'csrf-token'})
csrf_token = csrf_meta.get('content') if csrf_meta else None

# –ü–æ–∏—Å–∫ —Ñ–æ—Ä–º—ã
form = soup.find('form', {'id': 'order-form'})
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
1. **–ü–æ–ª—É—á–∏—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É** —á–µ—Ä–µ–∑ `_make_request()`
2. **–ü–∞—Ä—Å–∏—Ç—å —Å BeautifulSoup** –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
3. **–ù–∞–π—Ç–∏ —Ñ–æ—Ä–º—ã** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
4. **–ò–∑–≤–ª–µ—á—å CSRF —Ç–æ–∫–µ–Ω—ã** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚ùó –ù–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å rate limits (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –µ—Å—Ç—å)
- ‚ùó –°–æ—Ö—Ä–∞–Ω—è—Ç—å cookies –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚ùó –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
- ‚ùó –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã async/await
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ try/catch
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ logger
- ‚úÖ –ó–∞–≥–ª—É—à–∫–∏ —É–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–∞—á–∏–Ω–∞—Ç—å —Å –∏–∑—É—á–µ–Ω–∏—è HTML –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ

---

**–í—Ä–µ–º—è –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É:** 3-4 –Ω–µ–¥–µ–ª–∏  
**–ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞:** –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –≤ `kwork_client.py` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–¥–∞—á–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É** ‚úÖ

---

*–°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Claude Code AI*  
*–î–∞—Ç–∞: 16.01.2025*